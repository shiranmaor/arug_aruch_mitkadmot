<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>סדנת נשיאת תינוקות עם שירן</title>
  <meta name="description" content="סדנת נשיאת תינוקות עם שירן — בחירה, כיוונון ונשיאה בטוחה ונעימה לתינוק/ת.">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;600;800&amp;display=swap" rel="stylesheet">
  <style>
    :root {
      --tz-50:   #f9f5ff;   /* סגול ממש בהיר – רקע כללי */
      --tz-100:  #f3e8ff;   /* רקע כרטיסים */
      --tz-200:  #e9d5ff;   /* גבולות בהירים */
      --tz-300:  #d8b4fe;   /* גוון לילך רך */
      --tz-400:  #c084fc;   /* לילך עיקרי */
      --tz-500:  #a855f7;   /* סגול עיקרי */
      --tz-600:  #9333ea;   /* סגול בינוני */
      --tz-700:  #7e22ce;   /* סגול כהה */
      --tz-800:  #6b21a8;   /* סגול ראשי (כפתורים, כותרות) */
      --ink:     #2e1065;   /* טקסט כהה */
      --muted:   #6b5ca5;   /* טקסט רך */
      --white:   #ffffff;
      --card:    #ffffff;
      --bg:      var(--tz-50);
      --radius-xl: 22px;
      --radius: 14px;
      --shadow-lg: 0 18px 40px rgba(90, 33, 150, 0.1);
      --shadow: 0 10px 26px rgba(90, 33, 150, 0.08);
      --focus:  0 0 0 3px rgba(168, 85, 247, 0.35);
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family:"Heebo",system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans Hebrew",sans-serif;
      background:var(--bg); color:var(--ink); line-height:1.7;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:var(--tz-800);text-decoration:none}
    a:hover{text-decoration:underline}

    .container{max-width:1080px;margin:0 auto;padding:0 18px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:12px}

    /* Topbar + Hamburger */
    .topbar{
      position:sticky; top:0; z-index:50;
      background:rgba(249,245,255,.9); /* לילך שקוף – מתאים לפלטה הסגולה */
      backdrop-filter: blur(8px);
      border-bottom:1px solid var(--tz-200);
    }
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;color:var(--tz-800)}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:var(--tz-400);box-shadow:0 0 0 6px var(--tz-100) inset}
    .hamburger{
      display:flex;align-items:center;justify-content:center;
      width:44px;height:44px;border-radius:12px;border:1px solid var(--tz-200);
      background:#fff; cursor:pointer;
    }
    .hamburger span,.hamburger::before,.hamburger::after{
      content:""; display:block; width:22px; height:2px; background:var(--tz-800); border-radius:2px
    }
    .hamburger::before{transform:translateY(-6px)}
    .hamburger::after{transform:translateY(6px)}

    /* Drawer */
    .drawer{position:fixed; inset:0; z-index:60; pointer-events:none}
    .drawer .overlay{position:absolute; inset:0; background:rgba(0,0,0,.28); opacity:0; transition:opacity .2s}
    .drawer .panel{
      position:absolute; top:0; left:0; width:82%; max-width:380px; height:100%;
      background:#fff; border-left:1px solid var(--tz-100);
      transform:translateX(-110%); transition:transform .25s; box-shadow:var(--shadow-lg);
      padding:18px 16px 24px;
    }
    .drawer.open{pointer-events:auto}
    .drawer.open .overlay{opacity:1}
    .drawer.open .panel{transform:translateX(0)}
    .drawer .panel h3{margin:4px 0 16px; color:var(--tz-800)}
    .drawer .nav a{
      display:block; padding:12px 10px; border-radius:12px; margin:6px 0;
      background:#f9f5ff; border:1px solid var(--tz-200); color:var(--tz-800); font-weight:600;
    }
    .drawer .nav a:hover{background:#f3e8ff}

    /* Hero */
    header.hero{
      background:linear-gradient(180deg, #f6efff, #f3e8ff);
      color:var(--ink); text-align:center; padding:56px 16px 30px; position:relative; overflow:hidden;
    }
    .hero h1{margin:0 0 8px; font-size:clamp(28px,4.6vw,46px); font-weight:800; letter-spacing:.2px}
    .hero p{max-width:820px;margin:0 auto 22px;font-size:clamp(16px,2.2vw,20px);color:var(--muted)}
    .cta-row{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .btn{
      display:inline-block;border:none;cursor:pointer;font-weight:700;
      padding:14px 20px;border-radius:14px;font-size:16px;box-shadow:var(--shadow);
      transition:transform .06s ease,box-shadow .2s ease,background .2s ease;
    }
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:var(--tz-800);color:#fff}
    .btn-primary:hover{background:var(--tz-700)}
    .btn-outline{background:#fff;color:var(--tz-800);border:2px solid var(--tz-200)}
    .btn-outline:hover{background:#f7fdfd}
    .hero-img{
      width:100%; max-width:820px; margin:18px auto 0; display:block;
      border-radius:20px; box-shadow:var(--shadow); object-fit:cover; max-height:420px; background:#f3e8ff;
    }

    /* Sections & cards */
    section{margin:28px 0}
    .card{background:var(--card);border-radius:var(--radius-xl);box-shadow:var(--shadow-lg);padding:26px}
    .grid-2{display:grid;grid-template-columns:1.05fr .95fr;gap:22px}
    @media (max-width:900px){
      .grid-2{
        grid-template-columns:1fr;
        gap:0;
      }
    }
    h2{margin:0 0 14px;font-size:clamp(22px,3.4vw,30px);color:var(--tz-800)}
    h3{margin:0 0 10px;color:var(--tz-700)}
    .hr{height:1px;background:linear-gradient(90deg,transparent,var(--tz-200),transparent);margin:18px 0}
    .muted{color:var(--muted)}

    ul.checks{list-style:none;padding:0;margin:0}
    ul.checks li{margin:10px 0;padding-inline-start:22px;position:relative}
    ul.checks li::before{content:"•";position:absolute;right:0;top:0;font-weight:900;color:var(--tz-600)}

    /* Next workshop */
    .next-box{border:1px solid var(--tz-200);background:#fff;border-radius:18px;padding:16px 18px}
    .kv{margin:10px 0}
    .kv .k{display:block;font-weight:800;color:var(--tz-700);margin-bottom:4px}
    .kv .v{display:block;color:var(--ink)}
    .next-cta{margin-top:14px}

    /* Videos */
    .video-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px}
    .video{position:relative;padding-top:56.25%;border-radius:16px;overflow:hidden;background:#000}
    .video iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* Form */
    form{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:6px}
    form .full{grid-column:1/-1}
    label{display:block;font-weight:600;margin-bottom:6px;color:var(--tz-700)}
    input,textarea,select{
      width:100%;padding:12px 14px;border-radius:14px;font-size:16px;
      border:1px solid var(--tz-200);background:#fcffff;outline:none;transition:box-shadow .15s,border-color .15s;
    }
    input:focus,textarea:focus{box-shadow:var(--focus);border-color:var(--tz-400)}
    textarea{min-height:110px}
    .note{font-size:13px;color:var(--muted)}

    /* FAQ indentation on open */
    details{background:#fff;border:1px solid var(--tz-100);border-radius:12px;padding:10px 12px;margin:10px 0;transition:border-color .2s, background .2s}
    details[open]{background:#f7fdfd;border-color:var(--tz-200)}
    summary{cursor:pointer;font-weight:700;color:var(--tz-800);outline:none}
    .faq-body{margin-top:8px;padding-right:14px;border-right:3px solid var(--tz-200);transition:padding .2s, border-color .2s}
    details[open] .faq-body{padding-right:18px;border-right-color:var(--tz-300)}

    /* Footer */
    footer{margin-top:32px;padding:28px 16px;background:var(--tz-800);color:#d8f3f6;text-align:center}
    .footer-links{display:flex;gap:14px;justify-content:center;flex-wrap:wrap}
    .footer-links a{color:#d8f3f6}

    /* Success overlay – גרסה מהירה עם אנימציה */
    .success-mask {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.45);
      z-index: 100;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.12s ease;
      will-change: opacity;
    }
    .success-mask.show { opacity: 1; pointer-events: auto; }
    .success-box {
      background: #fff;
      border: 1px solid var(--tz-200);
      border-radius: 18px;
      padding: 20px 22px;
      box-shadow: var(--shadow-lg);
      text-align: center;
      max-width: 360px;
      transform: translateY(2px);
      transition: transform 0.12s ease;
      will-change: transform;
    }
    .success-mask.show .success-box { transform: translateY(0); }
    .spinner {
      width: 28px; height: 28px;
      border: 3px solid var(--tz-200); border-top-color: var(--tz-700);
      border-radius: 50%; margin: 10px auto 0; animation: spin .75s linear infinite
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Social links */
    .social-links{display:flex;gap:14px;justify-content:center;flex-wrap:wrap}
    .social-links a{
      display:inline-flex;align-items:center;gap:10px;
      padding:12px 16px;border-radius:14px;border:1px solid var(--tz-200);
      background:#fff;box-shadow:var(--shadow);font-weight:700;color:var(--tz-800);
    }
    .social-links a:hover{background:#f7fdfd}
    .social-links svg{width:22px;height:22px;display:block}

    #social h2 { text-align: center; }

    /* קו חוצה לתאריך כשהסדנה מלאה/עבר */
    .line-through{
      display:inline-block;
      text-decoration: line-through;
      text-decoration-thickness: 2px;
    }
  </style>
</head>
<body>

  <!-- Topbar -->
  <div class="topbar">
    <div class="container row" style="padding:10px 0">
      <div class="brand"><span class="dot"></span> סדנת מנשאים • שירן</div>
      <button class="hamburger" id="openMenu" type="button" aria-label="פתח תפריט" aria-controls="drawer" aria-expanded="false"></button>
    </div>
  </div>

  <!-- Drawer (hamburger menu) -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="overlay" id="overlay"></div>
    <aside class="panel" role="dialog" aria-modal="true" aria-labelledby="menuTitle">
      <h3 id="menuTitle">ניווט</h3>
      <nav class="nav">
        <a href="#about" class="menu-link">על הסדנה</a>
        <a href="#next" class="menu-link">הסדנה הקרובה</a>
        <a href="#learn" class="menu-link">מה נלמד</a>
        <a href="#register" class="menu-link">הרשמה</a>
        <a href="#videos" class="menu-link">סרטונים</a>
        <a href="#faq" class="menu-link">שאלות נפוצות</a>
      </nav>
    </aside>
  </div>

  <!-- Hero -->
  <header class="hero">
    <div class="container">
      <h1 id="mainTitle" style="">סדנת ארוג ארוך למתקדמות</h1>
      <p>נשיאה על הגב בארוג ארוך ושיפור הטכניקה</p>
      <div class="cta-row">
        <a class="btn btn-primary" href="#register">להרשמה ושמירת מקום</a>
        <a class="btn btn-outline" id="whatsapp-hero" href="https://wa.me/972548188793?text=%D7%94%D7%99%D7%99%20%D7%A9%D7%99%D7%A8%D7%9F%2C%20%D7%99%D7%A9%20%D7%9C%D7%99%20%D7%A9%D7%90%D7%9C%D7%94%20%D7%A7%D7%A6%D7%A8%D7%94%20%D7%9C%D7%92%D7%91%D7%99%20%D7%94%D7%A1%D7%93%D7%A0%D7%94%20%3A)" target="_blank" rel="noopener">שאלה מהירה בוואטסאפ</a>
      </div>
      <img class="hero-img" src="header.jpeg" alt="תינוק במנשא עם שירן">
    </div>
  </header>

  <main class="container">

    <!-- Next workshop -->
    <section id="next" class="card">
      <h2>הסדנה הקרובה</h2>
      <div class="next-box">
        <div class="kv">
          <span class="k">מועד</span>
          <span class="v" id="workshop-slot" style=""><strong id="workshop-date-inline" class="">חמישי, 30 באוקטובר</strong></span> • 10:00–12:30

        </div>
        <div class="kv">
          <span class="k">מיקום</span>
          <span class="v">מודיעין (הכתובת תישלח לאחר הרשמה)</span>
        </div>
        <div class="kv">
          <span class="k">עלות</span>
          <span id="workshop-price" style="">280 ₪</span>
        </div>
        <div class="next-cta">
          <a class="btn btn-primary" href="#register" aria-label="הירשם לסדנה הקרובה">להרשמה</a>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="card grid-2">
      <div>
        <h2>מה קורה בסדנה?</h2>
        <p>
          הסדנה מיועדת לאמהות שכבר התנסו בארוך ארוך, מבינות את התועלות שלו ויודעות איך לשאת מקדימה. בסדנה נלמד איך להעביר לגב, איך מכינים כיס ואיך להדק בצורה נכונה עד שאת מרגישה בטוחה להמשיך לתרגל בבית.
        </p>
        <div class="hr"></div>
        <h3>למי זה מתאים?</h3>
        <ul class="checks">
          <li>לאמהות שכבר נושאות בארוג ארוך בנשיאה קדמית ורוצות לעבור לגב.</li>
          <li>למי שכבר התחילה לשאת על הגב אבל צריכה דיוקים.</li>
          <li>לתינוקות מעל גיל 4 חודשים.</li>
        </ul>
      </div>
      <div class="card" style="background:#fff;border:1px solid var(--tz-200)">
        <h3 style="margin-top:0;color:var(--tz-700)">פרטי הסדנה</h3>
        <ul class="checks">
          <li><strong>מנחה:</strong> שירן מאור, מדריכת נשיאה ומדריכה להתפתחות תינוקות</li>
          <li>
            <strong>אורך:</strong>
            <span id="workshop-duration" style="">כשעתיים וחצי</span>
          </li>
          <li>
            <strong>קבוצה קטנה:</strong>
            <span id="workshop-group-size" style="">עד 4 משתתפות</span>
          </li>
          <li>
            <strong>מיקום/תאריך:</strong>
            <span id="workshop-date-value" class="" style="">22 אוקטובר, מודיעין</span>
          </li>
        </ul>
        <div class="hr"></div>
        <div style="font-weight:800;color:var(--tz-800)">ההרשמה מתבצעת בטופס – התשלום ייפתח לאחר מכן בפייבוקס.</div>
      </div>
    </section>

    <!-- Learn -->
    <section id="learn" class="card">
      <h2>מה נלמד ונתרגל</h2>
      <div class="grid-2">
        <ul class="checks">
          <li>העברה לגב דרך הצד ובהנפה</li>
          <li>טכניקות מתקדמות נוספות בהתאם לרמת המשתתפות</li>
          <li>איך מייצרים כיס</li>
          <li>הידוק נכון בנשיאת גב</li>
        </ul>
        <ul class="checks">
          <li>עקרונות בטיחות בנשיאה</li>
          <li>הכנסה/הוצאה בטוחה לבד - צעד אחר צעד</li>
          <li>איך לבחור את המנשא שהכי נכון לך</li>
          <li>לאחר הסדנה תצטרפי לקבוצת וואטסאפ סגורה בה תוכלי לשתף ולהתייעץ ולקבל מעטפת מלאה </li>
        </ul>
      </div>
    </section>

    <!-- Register -->
    <section id="register" class="card">
      <h2>הרשמה</h2>
      <p class="muted">מלאי פרטים ולאחר מכן תועברי אוטומטית לדף תשלום בפייבוקס.</p>

      <form id="leadForm" action="https://formspree.io/f/xwprqvqb" method="POST" target="fs_silent">
        <div>
          <label for="name">שם מלא</label>
          <input id="name" name="name" type="text" placeholder="שם ההורה" required="">
        </div>
        <div>
          <label for="phone">טלפון</label>
          <input id="phone" name="phone" type="tel" placeholder="05X-XXXXXXX" required="">
        </div>
        <div class="full">
          <label for="email">אימייל</label>
          <input id="email" name="email" type="email" placeholder="example@mail.com" required="">
        </div>

        <div>
        <label for="region">אזור מגורים</label>
        <input id="region" name="region" type="text" required="">
      </div>

      <div>
        <label for="baby_age">גיל התינוק/ת</label>
        <input id="baby_age" name="baby_age" type="text" required="">
      </div>

      <div class="full">
        <label for="carriers">מה הניסיון שלך בארוך ארוך?</label>
        <input id="carriers" name="carriers" type="text" required="">
      </div>


        <input type="hidden" name="source" id="source">

        <div class="full">
          <label for="message">הודעה</label>
          <textarea id="message" name="message" placeholder="גיל התינוק/ת, האם יש מנשא, שאלות…"></textarea>
        </div>
        <div class="full" style="display:flex;gap:10px;flex-wrap:wrap">
          <button type="submit" class="btn btn-primary">שלחי והרשמי</button>
        </div>
        <div class="note">לאחר השליחה תועברי ישירות לתשלום בפייבוקס.</div>
      </form>

      <!-- שליחה שקטה ל-Formspree (כדי שהעמוד הראשי יישאר 2 שניות עם הודעת תודה) -->
      <iframe name="fs_silent" style="display:none" title="Formspree silent submit"></iframe>
    </section>

    <!-- Success overlay -->
    <div class="success-mask" id="successMask" aria-hidden="true">
      <div class="success-box" role="alert" aria-live="assertive">
      <div style="font-weight:800;color:var(--tz-800);font-size:18px;margin-bottom:10px">תאריך הסדנה עבר</div>
      <p style="margin:0 0 14px;color:var(--ink);line-height:1.5">יכולה להשאיר פרטים ואצור איתך קשר :)</p>
      <button id="closePopup" class="btn btn-primary" style="margin-top:10px">חזרה לדף</button>
    </div>
    </div>

  <!-- Videos -->
  <section id="videos" class="card">
    <h2>סרטונים</h2>
    <div class="video-grid">

      <!-- סרטון ראשון -->
      <div class="video-item">
        <h3 style="text-align:center; color:var(--tz-700); margin-bottom:10px;">איך מכינים כיס בארוך ארוג</h3>
        <iframe width="100%" height="auto" src="https://www.youtube.com/embed/oz3IhyvW9bE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="">
        </iframe>
      </div>

      <!-- סרטון שני -->
      <div class="video-item">
        <h3 style="text-align:center; color:var(--tz-700); margin-bottom:10px;">האומנות בקשירת מנשאים</h3>
        <iframe width="100%" height="auto" src="https://www.youtube.com/embed/XnuiAS97yxk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="">
        </iframe>
      </div>

    </div>
  </section>

    <!-- Social: Instagram & YouTube -->
  <section id="social" class="card" aria-label="עקבו אחרי">
    <h2>מחכה לכן גם ברשת</h2>
    <div class="social-links">
      <!-- Instagram -->
      <a href="https://www.instagram.com/shiran.babywearing/" target="_blank" rel="noopener" aria-label="אינסטגרם">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.51 5.51 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zm5.75-3a1.25 1.25 0 1 1-1.25 1.25A1.25 1.25 0 0 1 17.75 6.5z"></path>
        </svg>
        לאינסטגרם
      </a>

      <!-- YouTube -->
      <a href="https://www.youtube.com/@shiran.babywearing" target="_blank" rel="noopener" aria-label="יוטיוב">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M23.5 6.2a3.1 3.1 0 0 0-2.2-2.2C19.3 3.5 12 3.5 12 3.5s-7.3 0-9.3.5A3.1 3.1 0 0 0 .5 6.2 32 32 0 0 0 0 12a32 32 0 0 0 .5 5.8 3.1 3.1 0 0 0 2.2 2.2c2 .5 9.3.5 9.3.5s7.3 0 9.3-.5a3.1 3.1 0 0 0 2.2-2.2A32 32 0 0 0 24 12a32 32 0 0 0-.5-5.8zM9.75 15.5v-7l6 3.5-6 3.5z"></path>
        </svg>
        ליוטיוב
      </a>
    </div>
  </section>

  </main>

  <footer>
    <div class="container">
      <p><strong>שירן – סדנת נשיאת תינוקות</strong></p>
      <div class="footer-links">
        <a id="whatsapp-footer" href="https://wa.me/972548188793?text=%D7%94%D7%99%D7%99%20%D7%A9%D7%99%D7%A8%D7%9F%2C%20%D7%99%D7%A9%20%D7%9C%D7%99%20%D7%A9%D7%90%D7%9C%D7%94%20%D7%A7%D7%A6%D7%A8%D7%94%20%D7%9C%D7%92%D7%91%D7%99%20%D7%94%D7%A1%D7%93%D7%A0%D7%94%20%3A)" target="_blank" rel="noopener">וואטסאפ</a>
        <a id="tel-link" href="tel:0548188793">טלפון: 054-8188793</a>
        <a id="mail-link" href="mailto:shiranmaor.k@gmail.com">shiranmaor.k@gmail.com</a>
      </div>
      <div style="opacity:.85;margin-top:8px;font-size:13px">© כל הזכויות שמורות • שירן מאור</div>
    </div>
  </footer>

  <script>
    // סקריפט זיהוי מקור ההגשה
    document.addEventListener("DOMContentLoaded", function() {
      const sourceField = document.getElementById('source');
      if (sourceField) sourceField.value = window.location.href;
    });
  </script>

  <script>
    // Drawer
    const openBtn = document.getElementById('openMenu');
    const drawer  = document.getElementById('drawer');
    const overlay = document.getElementById('overlay');
    if (openBtn && drawer && overlay) {
      function lockScroll(lock){ document.body.style.overflow = lock ? 'hidden' : ''; }
      function setExpanded(exp){
        openBtn.setAttribute('aria-expanded', String(exp));
        drawer.setAttribute('aria-hidden', String(!exp));
      }
      function openDrawer(){ drawer.classList.add('open'); setExpanded(true); lockScroll(true); }
      function closeDrawer(){ drawer.classList.remove('open'); setExpanded(false); lockScroll(false); }
      openBtn.addEventListener('click', (e)=>{ e.preventDefault(); drawer.classList.contains('open') ? closeDrawer() : openDrawer(); });
      overlay.addEventListener('click', closeDrawer);
      document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ closeDrawer(); } });
      document.querySelectorAll('.menu-link').forEach(link=>{
        link.addEventListener('click', (e)=>{
          const id = link.getAttribute('href').slice(1);
          const el = document.getElementById(id);
          if(el){
            e.preventDefault(); closeDrawer();
            setTimeout(()=>window.scrollTo({top: el.getBoundingClientRect().top + window.scrollY - 70, behavior:'smooth'}), 150);
          }
        });
      });
      document.querySelectorAll('a[href^="#"]:not(.menu-link)').forEach(a=>{
        a.addEventListener('click', function(e){
          const id = this.getAttribute('href').slice(1);
          const el = document.getElementById(id);
          if(el){ e.preventDefault(); window.scrollTo({top: el.getBoundingClientRect().top + window.scrollY - 70, behavior:'smooth'}); }
        });
      });
    }

    // YouTube embeds (lazy)
    document.querySelectorAll('.video[data-ytid]').forEach(v=>{
      const id = v.getAttribute('data-ytid');
      const iframe = document.createElement('iframe');
      iframe.src = "https://www.youtube.com/embed/" + encodeURIComponent(id) + "?rel=0&modestbranding=1";
      iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
      iframe.referrerPolicy = "strict-origin-when-cross-origin";
      iframe.loading = "lazy";
      v.appendChild(iframe);
    });

    // שכבת "תודה! מעבירה אותך לתשלום…" + השהייה 2 שניות ואז מעבר לפייבוקס
    function showThanks(){
      const m = document.getElementById('successMask');
      if(m){ m.classList.add('show'); m.setAttribute('aria-hidden','false'); }
    }
    function delayedPaybox(){
      setTimeout(function(){
        window.location.href = "https://links.payboxapp.com/rArpCcC4sXb";
      }, 2000);
    }
  </script>

  <script>
  (function () {
    const PHONE = "972548188793"; // מספר בינלאומי ללא +
    const MSG = "היי שירן, יש לי שאלה קצרה לגבי הסדנה :)";
    const url = "https://wa.me/" + PHONE + "?text=" + encodeURIComponent(MSG);

    ["whatsapp-hero", "whatsapp-footer"].forEach(function (id) {
      var a = document.getElementById(id);
      if (a) {
        a.href = url;
        a.target = "_blank";
        a.rel = "noopener";
      }
    });
  })();
  </script>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Course",
    "name":"סדנת נשיאת תינוקות עם שירן",
    "description":"סדנה מעשית לבחירה, כיוונון ונשיאת תינוקות בבטחה, בהנחיית שירן.",
    "provider":{"@type":"Person","name":"שירן"},
    "inLanguage":"he"
  }
  </script>

  <script>
  // === קונפיג API ===
  const API_URL = "https://script.google.com/macros/s/AKfycby-jKbO4HRMjR6BoGC3tvk6GhVoqMySfRRqtRvloy8no3K5k-khMYYpo5_dbrOzQiUr/exec";

  // === דגל סגירת הרשמה ידני ===
  // שנה ל-true כדי לסגור ידנית
  let FORCE_CLOSE = false;

  // (אופציונלי) תמיכה בפרמטר URL ?closed=1/true/on  או ?closed=0/false/off
  (function () {
    try {
      const v = new URLSearchParams(location.search).get("closed");
      if (v != null) {
        const s = String(v).toLowerCase();
        if (["1","true","yes","on"].includes(s))  FORCE_CLOSE = true;
        if (["0","false","no","off"].includes(s)) FORCE_CLOSE = false;
      }
    } catch (e) {}
  })();


  // === מזהה ייחודי לדף לפי התאריך המוצג בעמוד (כמו בבסיס) ===
  (function () {
    const baseId = "arug_aroch_mitkadmot";
    const el = document.getElementById("workshop-date-value"); // למשל: "30 באוקטובר, מודיעין"
    let PAGE_ID = baseId;

    if (el) {
      const raw = (el.textContent || "").trim();
      const stripNikud = s => s.replace(/[\u0591-\u05C7]/g, "");
      const normalizeHeb = s => stripNikud(s).replace(/[^\u0590-\u05FF0-9\s,.\-–—/]/g, "");
      const normToken = s => normalizeHeb(s).replace(/^[בלמהו]?/, "").trim();
      const months = {
        "ינואר":1,"פברואר":2,"מרץ":3,"מרס":3,"אפריל":4,"מאי":5,"יוני":6,"יולי":7,"אוגוסט":8,
        "ספטמבר":9,"אוקטובר":10,"נובמבר":11,"דצמבר":12
      };
      let day=null, monthNum=null;

      const tokens = raw.split(/[\s,.\-–—/]+/);
      for (let i = 0; i < tokens.length; i++) {
        const tok = tokens[i];
        if (day == null) {
          const m = tok.match(/^\d{1,2}$/);
          if (m) {
            const n = parseInt(m[0], 10);
            if (n >= 1 && n <= 31) day = n;
          }
        }
        if (monthNum == null) {
          const t = normToken(tok);
          if (months[t]) monthNum = months[t];
        }
        if (day != null && monthNum != null) break;
      }

      let year = null;
      const year4 = raw.match(/\b20\d{2}\b/);
      if (year4) {
        year = parseInt(year4[0], 10);
      } else {
        const now = new Date();
        year = now.getFullYear();
        if (monthNum != null) {
          const currentMonth = now.getMonth() + 1;
          if (monthNum < currentMonth) year += 1;
        }
      }

      if (day != null && monthNum != null && year != null) {
        const dd = String(day).padStart(2, "0");
        const mm = String(monthNum).padStart(2, "0");
        const yy = String(year).slice(-2);
        PAGE_ID = `${baseId}_${dd}_${mm}_${yy}`;
      }
    }

    window.PAGE_ID = PAGE_ID;
  })();

  // --- פרסור תאריך ובדיקה אם עבר (לא כולל היום) ---
  function parseWorkshopDateFromText(text) {
    const stripNikud = s => s.replace(/[\u0591-\u05C7]/g, "");
    const normalizeHeb = s => stripNikud(s).replace(/[^\u0590-\u05FF0-9\s,.\-–—/]/g, "");
    const normToken = s => normalizeHeb(s).replace(/^[בלמהו]?/, "").trim();
    const months = {
      "ינואר":1,"פברואר":2,"מרץ":3,"מרס":3,"אפריל":4,"מאי":5,"יוני":6,"יולי":7,"אוגוסט":8,
      "ספטמבר":9,"אוקטובר":10,"נובמבר":11,"דצמבר":12
    };

    let day=null, monthNum=null, year=null;
    const tokens = text.split(/[\s,.\-–—/]+/);

    for (let i=0;i<tokens.length;i++){
      if (day==null) {
        const m=tokens[i].match(/^\d{1,2}$/);
        if (m) { const n=+m[0]; if (n>=1 && n<=31) day=n; }
      }
      if (monthNum==null) {
        const t=normToken(tokens[i]);
        if (months[t]) monthNum=months[t];
      }
      if (day!=null && monthNum!=null) break;
    }

    const year4 = text.match(/\b20\d{2}\b/);
    if (year4) {
      year = +year4[0];
    } else {
      const now=new Date();
      year = now.getFullYear();
      if (monthNum!=null) {
        const currentMonth = now.getMonth()+1;
        if (monthNum < currentMonth) year += 1;
      }
    }

    if (day!=null && monthNum!=null && year!=null) {
      return new Date(year, monthNum-1, day);
    }
    return null;
  }

  function isWorkshopPast() {
    const el = document.getElementById('workshop-date-value');
    if (!el) return false;
    const dt = parseWorkshopDateFromText((el.textContent||"").trim());
    if (!dt) return false;

    const now = new Date();
    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
    const ws   = new Date(dt.getFullYear(), dt.getMonth(), dt.getDate());
    today.setHours(0,0,0,0);
    ws.setHours(0,0,0,0);
    return today.getTime() > ws.getTime();
  }

  // שכבת מסך עם טקסט מותאם
  function showMaskText(text) {
    const mask = document.getElementById('successMask');
    if (!mask) return;
    const msgEl = mask.querySelector('.success-box > div:first-child');
    if (msgEl) msgEl.textContent = text;
    mask.classList.add('show');
    mask.setAttribute('aria-hidden', 'false');
  }
  function showThanks() { showMaskText('תודה! מעבירה אותך לתשלום…'); }

  // JSONP לספירת הרשמות (עוקף CORS)
  function getRegistrationCount(pageId) {
    return new Promise((resolve, reject) => {
      const cbName = 'countCb_' + Date.now() + '_' + Math.floor(Math.random()*1e6);
      window[cbName] = function (data) {
        try { resolve(Number(data && data.count || 0)); } finally {
          delete window[cbName];
          s.remove();
        }
      };
      const s = document.createElement('script');
      s.src = API_URL + '?fn=count&page_id=' + encodeURIComponent(pageId) + '&callback=' + cbName;
      s.onerror = () => { delete window[cbName]; reject(new Error('count load error')); };
      document.head.appendChild(s);
    });
  }

  // פופאפ כשהסדנה מלאה
  function showFullPopup() {
    const mask = document.getElementById('successMask');
    if (!mask) return;
    const box = mask.querySelector('.success-box');
    if (!box) return;

    box.innerHTML = `
      <div style="font-weight:800;color:var(--tz-800);font-size:18px;margin-bottom:10px">
        ההרשמה לסדנה הסתיימה
      </div>
      <p style="margin:0 0 14px;color:var(--ink);line-height:1.5">
        ניתן להשאיר פרטים לסדנה הבאה ואצור איתך קשר :)
      </p>
      <button id="closePopup" class="btn btn-primary" style="margin-top:10px">חזרה לדף</button>
    `;
    mask.classList.add('show');
    mask.setAttribute('aria-hidden', 'false');

    const closeBtn = box.querySelector('#closePopup');
    if (closeBtn) closeBtn.addEventListener('click', () => {
      mask.classList.remove('show');
      mask.setAttribute('aria-hidden', 'true');
    });
  }

  // פופאפ כשהתאריך עבר (אבל עדיין מאפשרים להירשם לטופס)
  function showPastPopup() {
    const mask = document.getElementById('successMask');
    if (!mask) return;
    const box = mask.querySelector('.success-box');
    if (!box) return;

    box.innerHTML = `
      <div style="font-weight:800;color:var(--tz-800);font-size:18px;margin-bottom:10px">תאריך הסדנה עבר</div>
      <p style="margin:0 0 14px;color:var(--ink);line-height:1.5">יכולה להשאיר פרטים ואצור איתך קשר :)</p>
      <button id="closePopup" class="btn btn-primary" style="margin-top:10px">חזרה לדף</button>
    `;
    mask.classList.add('show');
    mask.setAttribute('aria-hidden', 'false');

    const closeBtn = box.querySelector('#closePopup');
    if (closeBtn) closeBtn.addEventListener('click', () => {
      mask.classList.remove('show');
      mask.setAttribute('aria-hidden', 'true');
    });
  }

  // פופאפ "נשמר לרשימת המתנה"
  function showWaitinglistPopup() {
    const mask = document.getElementById('successMask');
    if (!mask) return;
    const box = mask.querySelector('.success-box');
    if (!box) return;

    box.innerHTML = `
      <div style="font-weight:800;color:var(--tz-800);font-size:18px;margin-bottom:10px">תודה! שמרתי את הפרטים שלך.</div>
      <p style="margin:0 0 14px;color:var(--ink);line-height:1.5">אכתוב לך כשיפתח מועד חדש :)</p>
      <button id="closePopup" class="btn btn-primary" style="margin-top:10px">חזרה לדף</button>
    `;
    mask.classList.add('show');
    mask.setAttribute('aria-hidden', 'false');

    const closeBtn = box.querySelector('#closePopup');
    if (closeBtn) closeBtn.addEventListener('click', () => {
      mask.classList.remove('show');
      mask.setAttribute('aria-hidden', 'true');
    });
  }

  // בדיקות בטעינת הדף: תאריך עבר / מלא + קו חוצה גם בשני המקומות
  window.addEventListener("DOMContentLoaded", async () => {
    try {
      const dateValueEl = document.getElementById('workshop-date-value');
      const dateInlineEl = document.getElementById('workshop-date-inline');

      if (isWorkshopPast()) 
      {
        if (dateValueEl) dateValueEl.classList.add('line-through');
        if (dateInlineEl) dateInlineEl.classList.add('line-through');
        showPastPopup(); // אינפורמטיבי בלבד; אפשר לסגור ולהירשם (לרשימת המתנה)
      } 
      else if (FORCE_CLOSE) 
      {
        // סגירה יזומה – כמו מצב "מלא"
        if (dateValueEl)  dateValueEl.classList.add('line-through');
        if (dateInlineEl) dateInlineEl.classList.add('line-through');
        showFullPopup();
      }
      else 
      {
        const count = await getRegistrationCount(PAGE_ID);
        if (count >= 5) {
          if (dateValueEl) dateValueEl.classList.add('line-through');
          if (dateInlineEl) dateInlineEl.classList.add('line-through');
          showFullPopup();
        } else {
          if (dateValueEl) dateValueEl.classList.remove('line-through');
          if (dateInlineEl) dateInlineEl.classList.remove('line-through');
        }
      }
    } catch (err) {
      console.warn('count check failed', err);
    }
  });

  // רישום צפייה בדף בעת טעינה
  window.addEventListener("DOMContentLoaded", () => {
    fetch(API_URL, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "text/plain;charset=utf-8" },
      body: JSON.stringify({ type: "pageview", page_id: PAGE_ID })
    });
  });

  // לוגיקת ההרשמה עם Past/Full
  (function () {
    const form = document.getElementById("leadForm");
    if (!form) return;

    form.addEventListener("submit", async function (e) {
      e.preventDefault();

      const fd = new FormData(form);
      const name    = (fd.get("name")    || "").toString();
      const phone   = (fd.get("phone")   || "").toString();
      const email   = (fd.get("email")   || "").toString();
      const region   = (fd.get("region")   || "").toString();
      const baby_age = (fd.get("baby_age") || "").toString();
      const experience = (fd.get("experience") || "").toString();
      const message = (fd.get("message") || "").toString();

      try {
        // אם התאריך עבר – שומרות WaitingList ומראות פופאפ מיידי (ללא מעבר תשלום)
        if (isWorkshopPast()) 
        {
          const dateValueEl = document.getElementById('workshop-date-value');
          const dateInlineEl = document.getElementById('workshop-date-inline');
          if (dateValueEl) dateValueEl.classList.add('line-through');
          if (dateInlineEl) dateInlineEl.classList.add('line-through');

          showWaitinglistPopup(); // מידית

          const payload = JSON.stringify({ type:"waitinglist", page_id: PAGE_ID, name, phone, email, message, region, baby_age, experience });
          if (navigator.sendBeacon) {
            const blob = new Blob([payload], { type: "text/plain;charset=utf-8" });
            navigator.sendBeacon(API_URL, blob);
          } else {
            fetch(API_URL, { method:"POST", mode:"no-cors", headers:{ "Content-Type":"text/plain;charset=utf-8" }, body: payload }).catch(()=>{});
          }
          return;
        }

        // סגירה יזומה – כמו מצב "מלא": שומרות לרשימת המתנה ומציג פופאפ
        if (FORCE_CLOSE) {
          const dateValueEl  = document.getElementById('workshop-date-value');
          const dateInlineEl = document.getElementById('workshop-date-inline');
          if (dateValueEl)  dateValueEl.classList.add('line-through');
          if (dateInlineEl) dateInlineEl.classList.add('line-through');

          showWaitinglistPopup();

          const payload = JSON.stringify({ type:"waitinglist", page_id: PAGE_ID, name, phone, email, message, region, baby_age, experience });
          if (navigator.sendBeacon) {
            const blob = new Blob([payload], { type: "text/plain;charset=utf-8" });
            navigator.sendBeacon(API_URL, blob);
          } else {
            fetch(API_URL, { method:"POST", mode:"no-cors",
              headers: { "Content-Type":"text/plain;charset=utf-8" }, body: payload }).catch(()=>{});
          }
          return;
        }


        // אחרת – בדיקת ספירה
        showMaskText('בודקת זמינות…');
        const count = await getRegistrationCount(PAGE_ID);

        if (count >= 5) {
          const mask = document.getElementById('successMask');
          const box  = mask?.querySelector('.success-box');
          if (box) {
            box.innerHTML = `
              <div style="font-weight:800;color:var(--tz-800);font-size:18px;white-space:pre-line;">
                הסדנה מלאה בתאריך הזה כבר,
                אבל שמרתי את הפרטים שלך ואכתוב לך כשיפתח מועד חדש.
              </div>
              <button id="closeMaskBtn"
                      style="margin-top:18px;padding:10px 18px;border:none;border-radius:12px;
                            background:var(--tz-800);color:#fff;font-weight:700;cursor:pointer;">
                חזרה לדף
              </button>
            `;
            mask.classList.add('show');
            mask.setAttribute('aria-hidden', 'false');

            const closeBtn = document.getElementById('closeMaskBtn');
            if (closeBtn) {
              closeBtn.addEventListener('click', () => {
                mask.classList.remove('show');
                mask.setAttribute('aria-hidden', 'true');
              });
            }
          }

          fetch(API_URL, {
            method: "POST",
            mode: "no-cors",
            headers: { "Content-Type": "text/plain;charset=utf-8" },
            body: JSON.stringify({ type:"waitinglist", page_id: PAGE_ID, name, phone, email, message, region, baby_age, experience })
          });
          return;
        }

        // יש מקום – רישום וניתוב לפייבוקס
        fetch(API_URL, {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type": "text/plain;charset=utf-8" },
          body: JSON.stringify({ type:"registration", page_id: PAGE_ID, name, phone, email, message, region, baby_age, experience })
        });

        showThanks();
        form.submit();   // ל-Formspree (iframe שקט)
        delayedPaybox(); // אחרי 2 שניות

      } catch (err) {
        console.error('count error', err);
        // במקרה תקלה – לא חונקים: שולחות רגיל ומפנות
        showThanks();
        form.submit();
        delayedPaybox();
      }
    });
  })();
  </script>


<script>
(function(){
  const params = new URLSearchParams(window.location.search);
  if (params.get("edit") !== "1") return;

  // 1) הפיכת שדות לעריכים (כמו בבסיס)
  const titleEl = document.querySelector(".hero h1");
  if (titleEl) {
    titleEl.contentEditable = "true";
    titleEl.style.outline = "2px dashed #888";
    titleEl.style.outlineOffset = "4px";
  }

  [
    "workshop-slot",        // מועד ושעות (אם קיים)
    "workshop-price",       // עלות (אם קיים)
    "workshop-duration",    // אורך הסדנה (אם קיים)
    "workshop-group-size",  // קבוצה: עד X (אם קיים)
    "workshop-date-value"   // המיקום/תאריך (“30 באוקטובר, מודיעין”) — קיים אצלך
  ].forEach(id => {
    const el = document.getElementById(id);
    if (el) {
      el.contentEditable = "true";
      el.style.outline = "2px dashed #888";
      el.style.outlineOffset = "4px";
    }
  });

  // 2) יצירת פאנל ניהול קטן
  const panel = document.createElement("div");
  panel.id = "__adminPanel";
  panel.style.position = "fixed";
  panel.style.bottom = "20px";
  panel.style.left = "20px";
  panel.style.zIndex = "9999";
  panel.style.background = "#fff";
  panel.style.padding = "10px 14px";
  panel.style.border = "1px solid #ccc";
  panel.style.borderRadius = "10px";
  panel.style.boxShadow = "0 4px 10px rgba(0,0,0,0.1)";
  panel.innerHTML = `
    <label style="display:block;margin-bottom:6px">
      GitHub Token:
      <input id="ghToken" type="password" placeholder="ghp_..." style="width:260px">
    </label>
    <label style="display:block;margin-bottom:6px">
      Repo (username/repo):
      <input id="ghRepo" type="text" placeholder="user/site" style="width:260px">
    </label>
    <label style="display:block;margin-bottom:6px">
      Branch:
      <input id="ghBranch" type="text" value="main" style="width:260px">
    </label>
    <label style="display:block;margin:8px 0">
      <input id="isClosed" type="checkbox"> סגור הרשמה (יעדכן את FORCE_CLOSE בקובץ לפני שמירה)
    </label>
    <button id="saveBtn" class="btn btn-primary" type="button" style="width:100%">שמירת שינויים ל-GitHub</button>
    <div id="saveStatus" style="margin-top:8px;color:#333;font-size:13px"></div>
  `;
  document.body.appendChild(panel);

  // חיבור הכפתור לפונקציה שתתווסף בשלב הבא
  const saveBtn = document.getElementById("saveBtn");
if (saveBtn) {
  // שימו לב: הקריאה ל-window.saveToGitHub מתבצעת בזמן הלחיצה,
  // כך שגם אם הפונקציה מוגדרת רק אחר־כך — זה יעבוד.
  saveBtn.addEventListener("click", () => window.saveToGitHub && window.saveToGitHub());
}

})();
</script>



<script>
window.saveToGitHub = async function saveToGitHub(){
  const token   = (document.getElementById("ghToken")  || {}).value || "";
  const repo    = (document.getElementById("ghRepo")   || {}).value || "";
  const branch  = (document.getElementById("ghBranch") || {}).value || "main";
  const isClosed = !!(document.getElementById("isClosed") && document.getElementById("isClosed").checked);
  const status = document.getElementById("saveStatus");

  if (!token || !repo) {
    alert("חייבים למלא Token ו-repo (username/repo)");
    return;
  }

  status.textContent = "📤 שולח שינויים ל-GitHub...";

  try {
    // 1) SHA לקובץ הקיים
    const path = "index.html";
    const url  = `https://api.github.com/repos/${repo}/contents/${path}`;
    const res  = await fetch(url + `?ref=${branch}`, {
      headers: { Authorization: "token " + token }
    });
    const json = await res.json();
    if (!json.sha) throw new Error("לא התקבל SHA מהשרת");

    // 2) משכפלים DOM נקי לפני העלאה (לא פוגעים בדום החי)
    const doc = document.documentElement.cloneNode(true);

    // 2.1) מסירים פאנל ניהול
    const panelClone = doc.querySelector("#__adminPanel");
    if (panelClone && panelClone.parentNode) panelClone.parentNode.removeChild(panelClone);

    // 2.2) מסירים contentEditable/מסגרות מהכותרת (אם קיימת עם id) ומיתר השדות
    const titleClone = doc.querySelector("#mainTitle"); // בבסיס זה קיים; אם לא — פשוט יתעלם
    if (titleClone) {
      titleClone.removeAttribute("contenteditable");
      titleClone.style.outline = "";
      titleClone.style.outlineOffset = "";
    }
    ["workshop-slot","workshop-price","workshop-duration","workshop-group-size","workshop-date-value"].forEach(id=>{
      const el = doc.querySelector("#"+id);
      if (el) {
        el.removeAttribute("contenteditable");
        el.style.outline = "";
        el.style.outlineOffset = "";
      }
    });

    // 2.3) הסרת “קו חוצה”/ארטיפקטים/ערכי מקור
    // מסירים class של קו-חוצה
    doc.querySelectorAll(".line-through").forEach(el => el.classList.remove("line-through"));

    // מסירים value עם '?edit=1' מהשדה הסמוי (אם נשמר בטעות)
    const srcInput = doc.querySelector("#source");
    if (srcInput) srcInput.removeAttribute("value");

    // מסירים הזרקות של תוספי דפדפן
    const extSelectors = [
      'script[src^="chrome-extension://"]',
      'link[href^="chrome-extension://"]',
      'link#dark-mode-custom-link',
      'link#dark-mode-general-link',
      'style#dark-mode-custom-style',
      'style#dark-mode-native-style',
      'style#dark-mode-native-sheet'
    ];
    extSelectors.forEach(sel => doc.querySelectorAll(sel).forEach(n => n.remove()));

    doc.querySelectorAll("*").forEach(el => {
      ["bis_skin_checked","bis_register"].forEach(a => { if (el.hasAttribute(a)) el.removeAttribute(a); });
      [...el.attributes].forEach(attr => { if (attr.name.startsWith("__processed_")) el.removeAttribute(attr.name); });
    });

    // 2.4) עדכון FORCE_CLOSE בעותק לפני שמירה
    doc.querySelectorAll("script").forEach(scr => {
      if (scr.textContent.includes("let FORCE_CLOSE")) {
        scr.textContent = scr.textContent.replace(
          /let FORCE_CLOSE\s*=\s*(true|false)\s*;/,
          "let FORCE_CLOSE = " + (isClosed ? "true" : "false") + ";"
        );
      }
    });

    // 2.5) מרכיבים HTML מלא כולל DOCTYPE ומקודדים ל-base64
    const html = "<!DOCTYPE html>\n" + doc.outerHTML;
    const base64 = btoa(unescape(encodeURIComponent(html)));

    // 3) העלאת Commit חדש
    const body = {
      message: "עדכון תוכן דף (עריכה דרך האתר)",
      content: base64,
      branch,
      sha: json.sha
    };
    const putRes = await fetch(url, {
      method: "PUT",
      headers: { Authorization: "token " + token, "Content-Type": "application/json" },
      body: JSON.stringify(body)
    });
    const putJson = await putRes.json();

    if (putJson.commit) {
      status.textContent = "✅ נשמר בהצלחה! commit " + putJson.commit.sha.substring(0,7);
    } else {
      throw putJson;
    }
  } catch (err) {
    console.error(err);
    status.textContent = "❌ שגיאה: " + (err.message || JSON.stringify(err));
  }
};
</script>



</body></html>